(self.webpackChunkjob_portal=self.webpackChunkjob_portal||[]).push([[787],{9787:(e,t,o)=>{"use strict";o.r(t),o.d(t,{CompanyModule:()=>I});var n=o(1116),i=o(1462),r=o(1522),a=o(8619),s=o(2693),c=o(663);function l(e,t){if(1&e&&(a.TgZ(0,"div",6),a.TgZ(1,"div",7),a.TgZ(2,"div",8),a._UZ(3,"img",9),a.qZA(),a.TgZ(4,"div",10),a.TgZ(5,"p",11),a._uU(6),a.qZA(),a.TgZ(7,"p",12),a._uU(8),a.qZA(),a.TgZ(9,"p",13),a.TgZ(10,"span",14),a._uU(11,"Company Description: "),a.qZA(),a._uU(12),a.qZA(),a.qZA(),a.qZA(),a._UZ(13,"hr",15),a.TgZ(14,"div",16),a.TgZ(15,"p",17),a._uU(16,"Basic Information"),a.qZA(),a.TgZ(17,"p"),a.TgZ(18,"strong"),a._uU(19,"Name: "),a.qZA(),a._uU(20),a.qZA(),a.TgZ(21,"p"),a.TgZ(22,"strong"),a._uU(23,"Email: "),a.qZA(),a._uU(24),a.qZA(),a.TgZ(25,"p"),a.TgZ(26,"strong"),a._uU(27,"Website: "),a.qZA(),a.TgZ(28,"a",18),a._uU(29),a.qZA(),a.qZA(),a.TgZ(30,"p"),a.TgZ(31,"strong"),a._uU(32,"Phone No:"),a.qZA(),a._uU(33),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(3),a.Q6J("src",e.currentCompany.logoUrl,a.LSH),a.xp6(3),a.hij("Name: ",e.currentCompany.company_name,""),a.xp6(2),a.hij(" Email: ",e.currentCompany.email_id,""),a.xp6(4),a.hij(" ",e.currentCompany.company_description,""),a.xp6(8),a.hij(" ",e.currentCompany.company_name,""),a.xp6(4),a.hij(" ",e.currentCompany.email_id,""),a.xp6(4),a.Q6J("href",e.currentCompany.company_website,a.LSH),a.xp6(1),a.hij(" ",e.currentCompany.company_website," "),a.xp6(4),a.hij(" ",e.currentCompany.phone_no,"")}}function p(e,t){1&e&&(a.TgZ(0,"div",19),a.TgZ(1,"p"),a._uU(2,"Loading Company details..."),a.qZA(),a.qZA())}let g=(()=>{class e{constructor(e,t,o){this.http=e,this.jobsService=t,this.router=o,this.currentCompany={}}ngOnInit(){this.jobsService.getCurrentCompany().subscribe(e=>{this.currentCompany=e.company,this.currentCompany.company_logo?this.currentCompany.logoUrl=`https://careerlink-jobportal-backend-production.up.railway.app/uploads/companylogos/${this.currentCompany.company_logo}`:this.currentCompany="assets/profile/profile_pic.png"},e=>{console.log("Failed to fetch company data",e)})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(s.eN),a.Y36(c.e),a.Y36(r.F0))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-company-dashboard"]],decls:8,vars:2,consts:[[1,"container","align-top"],[1,"row","justify-content-center"],[1,"col-12","col-md-10","col-lg-8"],[1,"fs-2","fw-bold","text-center","mb-4"],["class","profile-card p-4 rounded shadow-sm bg-light",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"profile-card","p-4","rounded","shadow-sm","bg-light"],[1,"d-flex","flex-column","flex-md-row","align-items-center","align-items-md-start"],[1,"flex-shrink-0","me-md-4","text-center","text-md-start","mb-3","mb-md-0"],["alt","Profile",1,"profile-pic","rounded-circle","border","shadow-sm",3,"src"],[1,"flex-grow-1"],[1,"fw-bold","mb-2","fs-5"],[1,"fw-bold","mb-3","fs-5"],[1,"text-muted"],[1,"fw-bold"],[1,"my-4"],[1,"profile-info"],[1,"fs-3"],["target","_blank",3,"href"],[1,"text-center"]],template:function(e,t){1&e&&(a.TgZ(0,"main"),a.TgZ(1,"div",0),a.TgZ(2,"div",1),a.TgZ(3,"div",2),a.TgZ(4,"p",3),a._uU(5,"Company Details"),a.qZA(),a.YNc(6,l,34,9,"div",4),a.YNc(7,p,3,0,"div",5),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(6),a.Q6J("ngIf",t.currentCompany),a.xp6(1),a.Q6J("ngIf",!t.currentCompany))},directives:[n.O5],styles:[".align-top[_ngcontent-%COMP%]{margin-top:70px}.profile-pic[_ngcontent-%COMP%]{width:125px;height:125px;object-fit:cover;border-radius:50%;border:3px solid #fff;box-shadow:0 4px 8px #0003;transition:transform .2s ease-in-out}.profile-pic[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]}),e})(),d=(()=>{class e{constructor(e,t){this.router=e,this.jobsService=t}canActivate(e,t){return!!this.jobsService.isCompanyLoggedIn()||(this.router.navigate(["/home/login"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.F0),a.LFG(c.e))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function u(e,t){1&e&&(a.TgZ(0,"div",5),a.TgZ(1,"div",13),a.TgZ(2,"label",42),a._uU(3,"Company Name"),a.qZA(),a._UZ(4,"input",43),a.qZA(),a.TgZ(5,"div",13),a.TgZ(6,"label",44),a._uU(7,"Website URL"),a.qZA(),a._UZ(8,"input",45),a.qZA(),a.TgZ(9,"div",13),a.TgZ(10,"label",46),a._uU(11,"Company Description"),a.qZA(),a._UZ(12,"textarea",47),a.qZA(),a.qZA())}function Z(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",48),a.TgZ(1,"input",49),a.NdJ("change",function(t){return a.CHM(e),a.oxw().onCheckboxChangeJobType(t)}),a.qZA(),a.TgZ(2,"label",50),a._uU(3),a.qZA(),a.qZA()}if(2&e){const e=t.$implicit;a.xp6(1),a.Q6J("value",e),a.xp6(2),a.Oqu(e)}}let m=(()=>{class e{constructor(e,t){this.http=e,this.JobsService=t,this.selectedFile=null,this.jobLogoFile=null,this.companyDetails=[],this.employmentTypes=["Full Time","Part Time","Remote","Freelance","Contract"],this.selectedEmploymentTypes=[]}ngOnInit(){this.jobForm=new i.cw({categoryname:new i.NI("",[i.kI.required]),companyname:new i.NI("",[i.kI.required]),companyDescription:new i.NI("",[i.kI.required]),company_website:new i.NI("",[i.kI.required]),jobtitle:new i.NI("",[i.kI.required]),employeetype:new i.NI("[]",[i.kI.required]),salary:new i.NI("",[i.kI.required]),job_location:new i.NI("",[i.kI.required]),experience:new i.NI("",[i.kI.required]),qualifications:new i.NI("",[i.kI.required]),skillsrequired:new i.NI("",[i.kI.required]),jobdescription:new i.NI("",[i.kI.required]),keyresponse_1:new i.NI("",[i.kI.required]),applicationDeadline:new i.NI("",[i.kI.required]),vacancy_required:new i.NI("",[i.kI.required])}),this.showCompanyDetails()}onFileSelected(e){const t=e.target;t.files&&t.files[0]&&(this.selectedFile=t.files[0])}onJobLogoSelected(e){const t=e.target.files[0];t&&(this.jobLogoFile=t)}postJob(){if(this.jobForm.valid){const e=this.jobForm.value;e.employeetype=this.selectedEmploymentTypes.join(", ");const t=new FormData;t.append("categoryname",e.categoryname),t.append("companyname",e.companyname),t.append("companyDescription",e.companyDescription),t.append("company_website",e.company_website),t.append("jobtitle",e.jobtitle),t.append("employeetype",e.employeetype),t.append("salary",e.salary),t.append("job_location",e.job_location),t.append("experience",e.experience),t.append("qualifications",e.qualifications),t.append("skillsrequired",e.skillsrequired),t.append("jobdescription",e.jobdescription),t.append("keyresponse_1",e.keyresponse_1),t.append("applicationDeadline",e.applicationDeadline),t.append("vacancy_required",e.vacancy_required),this.selectedFile&&t.append("category_imageUrl",this.selectedFile),this.jobLogoFile&&t.append("job_Logo",this.jobLogoFile),this.JobsService.postJobData(t).subscribe(e=>{alert("Job posted successfully")},e=>{console.error("Error posting job:",e),404===e.status&&e.error&&e.error.error&&"Company not found!"===e.error.error.message?alert("Company name not found! Please check the company name and try again."):alert("An error occurred while posting the job. Please try again later.")})}else console.log("Form is invalid",this.jobForm.errors)}showCompanyDetails(){this.JobsService.getCurrentCompany().subscribe(e=>{var t,o,n;this.companyDetails=e.company,console.log(this.companyDetails),((null===(t=this.companyDetails)||void 0===t?void 0:t.company_name)||(null===(o=this.companyDetails)||void 0===o?void 0:o.company_description)||(null===(n=this.companyDetails)||void 0===n?void 0:n.company_website))&&this.jobForm.patchValue({companyname:this.companyDetails.company_name,companyDescription:this.companyDetails.company_description,company_website:this.companyDetails.company_website})},e=>{console.error("error fetching company details:",e)})}onCheckboxChangeJobType(e){e.target.checked?this.selectedEmploymentTypes.push(e.target.value):this.selectedEmploymentTypes=this.selectedEmploymentTypes.filter(t=>t!==e.target.value)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(s.eN),a.Y36(c.e))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-post-job"]],decls:115,vars:4,consts:[[1,"container","align-top"],[1,"fs-2","fw-bold","text-center","mb-4"],[1,"row","g-4",3,"formGroup"],[1,"border","p-4","rounded-3"],[1,"fs-4","mb-4"],[1,"row"],[1,"col-md-6"],["for","selectCategory"],["formControlName","categoryname","required","",1,"form-select"],["selected","","disabled","","value",""],["for","categoryImage"],["type","file","id","categoryImage",1,"form-control",3,"change"],["class","row",4,"ngIf"],[1,"col-md-4"],["for","jobtitle",1,"form-label"],["type","text","formControlName","jobtitle","placeholder","Enter job title",1,"form-control"],["for","joblogo",1,"form-label"],["type","file",1,"form-control",3,"change"],["for","location",1,"form-label"],["type","text","formControlName","job_location","placeholder","Enter location",1,"form-control"],[1,"row","mt-3"],["for","salaryrange",1,"form-label"],["type","text","formControlName","salary","placeholder","e.g., $50,000 - $70,000",1,"form-control"],["for","experience",1,"form-label"],["type","text","formControlName","experience","placeholder","Experience (e.g., 2-5 years)",1,"form-control"],["for","qualifications",1,"form-label"],["type","text","formControlName","qualifications","placeholder","e.g., Bachelors in CS",1,"form-control"],["for","skills",1,"form-label"],["type","text","formControlName","skillsrequired","placeholder","e.g., JavaScript, Node.js",1,"form-control"],["for","numberofvacanies",1,"form-label"],["type","text","formControlName","vacancy_required","placeholder","Enter number of vacancies",1,"form-control"],["for","keyresposibilities",1,"form-label"],["type","text","formControlName","keyresponse_1","placeholder","Enter key responsibilities",1,"form-control"],["for","applicationdeadline",1,"form-label"],["type","date","formControlName","applicationDeadline",1,"form-control"],["for","jobdescription",1,"form-label"],["rows","3","formControlName","jobdescription","placeholder","Enter job description...",1,"form-control"],[1,"form-label"],[1,"d-flex","flex-wrap"],["class","form-check me-3",4,"ngFor","ngForOf"],[1,"text-center","mt-4"],["type","submit",1,"btn","btn-success","px-5",3,"disabled","click"],["for","companyname",1,"form-label"],["type","text","formControlName","companyname","placeholder","Company name","readonly","",1,"form-control"],["for","websiteurl",1,"form-label"],["type","url","formControlName","company_website","placeholder","Company Website","readonly","",1,"form-control"],["for","companydescription",1,"form-label"],["id","companyDescription","rows","3","placeholder","Enter company description","formControlName","companyDescription","readonly","",1,"form-control"],[1,"form-check","me-3"],["type","checkbox",1,"form-check-input",3,"value","change"],[1,"form-check-label"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"h2",1),a._uU(2,"Post a Job"),a.qZA(),a.TgZ(3,"form",2),a.TgZ(4,"fieldset",3),a.TgZ(5,"legend",4),a._uU(6,"Category"),a.qZA(),a.TgZ(7,"div",5),a.TgZ(8,"div",6),a.TgZ(9,"label",7),a._uU(10,"select category"),a.qZA(),a.TgZ(11,"select",8),a.TgZ(12,"option",9),a._uU(13,"--select category--"),a.qZA(),a.TgZ(14,"option"),a._uU(15,"Software Development & IT"),a.qZA(),a.TgZ(16,"option"),a._uU(17,"Marketing & Sales"),a.qZA(),a.TgZ(18,"option"),a._uU(19,"Design & Creative"),a.qZA(),a.TgZ(20,"option"),a._uU(21,"Business & Management"),a.qZA(),a.TgZ(22,"option"),a._uU(23,"Healthcare"),a.qZA(),a.TgZ(24,"option"),a._uU(25,"Education"),a.qZA(),a.TgZ(26,"option"),a._uU(27,"Engineering"),a.qZA(),a.TgZ(28,"option"),a._uU(29,"Customer Service"),a.qZA(),a.TgZ(30,"option"),a._uU(31,"Finance & Accounting"),a.qZA(),a.TgZ(32,"option"),a._uU(33,"Legal"),a.qZA(),a.TgZ(34,"option"),a._uU(35,"Human Resources"),a.qZA(),a.TgZ(36,"option"),a._uU(37,"Construction & Real Estate"),a.qZA(),a.TgZ(38,"option"),a._uU(39,"Logistics & Supply Chain"),a.qZA(),a.TgZ(40,"option"),a._uU(41,"Hospitality & Travel"),a.qZA(),a.TgZ(42,"option"),a._uU(43,"Manufacturing"),a.qZA(),a.TgZ(44,"option"),a._uU(45,"other"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(46,"div",6),a.TgZ(47,"label",10),a._uU(48,"category Image"),a.qZA(),a.TgZ(49,"input",11),a.NdJ("change",function(e){return t.onFileSelected(e)}),a.qZA(),a.qZA(),a.qZA(),a._UZ(50,"hr"),a.TgZ(51,"fieldset",3),a.TgZ(52,"legend",4),a._uU(53,"Company Details"),a.qZA(),a.YNc(54,u,13,0,"div",12),a.qZA(),a._UZ(55,"hr"),a.TgZ(56,"fieldset",3),a.TgZ(57,"legend",4),a._uU(58,"Job Details"),a.qZA(),a.TgZ(59,"div",5),a.TgZ(60,"div",13),a.TgZ(61,"label",14),a._uU(62,"Job Title"),a.qZA(),a._UZ(63,"input",15),a.qZA(),a.TgZ(64,"div",13),a.TgZ(65,"label",16),a._uU(66,"Job Logo"),a.qZA(),a.TgZ(67,"input",17),a.NdJ("change",function(e){return t.onJobLogoSelected(e)}),a.qZA(),a.qZA(),a.TgZ(68,"div",13),a.TgZ(69,"label",18),a._uU(70,"Location"),a.qZA(),a._UZ(71,"input",19),a.qZA(),a.qZA(),a.TgZ(72,"div",20),a.TgZ(73,"div",13),a.TgZ(74,"label",21),a._uU(75,"Salary Range"),a.qZA(),a._UZ(76,"input",22),a.qZA(),a.TgZ(77,"div",13),a.TgZ(78,"label",23),a._uU(79,"Experience Required"),a.qZA(),a._UZ(80,"input",24),a.qZA(),a.TgZ(81,"div",13),a.TgZ(82,"label",25),a._uU(83,"Qualifications"),a.qZA(),a._UZ(84,"input",26),a.qZA(),a.qZA(),a.TgZ(85,"div",20),a.TgZ(86,"div",13),a.TgZ(87,"label",27),a._uU(88,"Skills Required"),a.qZA(),a._UZ(89,"input",28),a.qZA(),a.TgZ(90,"div",13),a.TgZ(91,"label",29),a._uU(92,"Number of Vacancies"),a.qZA(),a._UZ(93,"input",30),a.qZA(),a.TgZ(94,"div",13),a.TgZ(95,"label",31),a._uU(96,"Key Responsibilities"),a.qZA(),a._UZ(97,"input",32),a.qZA(),a.qZA(),a.TgZ(98,"div",20),a.TgZ(99,"div",13),a.TgZ(100,"label",33),a._uU(101,"Application Deadline"),a.qZA(),a._UZ(102,"input",34),a.qZA(),a.TgZ(103,"div",13),a.TgZ(104,"label",35),a._uU(105,"Job Description"),a.qZA(),a._UZ(106,"textarea",36),a.qZA(),a.TgZ(107,"div",13),a.TgZ(108,"label",37),a._uU(109,"Employment Type"),a.qZA(),a.TgZ(110,"div",38),a.YNc(111,Z,4,2,"div",39),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(112,"div",40),a.TgZ(113,"button",41),a.NdJ("click",function(){return t.postJob()}),a._uU(114," Submit form "),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(3),a.Q6J("formGroup",t.jobForm),a.xp6(51),a.Q6J("ngIf",t.companyDetails),a.xp6(57),a.Q6J("ngForOf",t.employmentTypes),a.xp6(2),a.Q6J("disabled",t.jobForm.invalid))},directives:[i._Y,i.JL,i.sg,i.EJ,i.JJ,i.u,i.Q7,i.YN,i.Kr,n.O5,i.Fj,n.sg],styles:[".align-top[_ngcontent-%COMP%]{margin-top:70px}"]}),e})();function b(e,t){1&e&&(a.TgZ(0,"div",8),a.TgZ(1,"p"),a._uU(2,"No job applications found."),a.qZA(),a.qZA())}function f(e,t){if(1&e&&(a.TgZ(0,"div",9),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.errorMessage," ")}}function h(e,t){if(1&e&&(a.TgZ(0,"a",20),a._UZ(1,"i",21),a._uU(2," Download Resume "),a.qZA()),2&e){const e=a.oxw().$implicit;a.Q6J("href",e.resume_path,a.LSH)}}function y(e,t){1&e&&(a.TgZ(0,"span"),a._uU(1,"No Resume"),a.qZA())}function A(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"tbody"),a.TgZ(1,"tr"),a.TgZ(2,"td"),a._uU(3),a.qZA(),a.TgZ(4,"td"),a._uU(5),a.qZA(),a.TgZ(6,"td"),a._uU(7),a.qZA(),a.TgZ(8,"td"),a._uU(9),a.qZA(),a.TgZ(10,"td"),a._uU(11),a.qZA(),a.TgZ(12,"td"),a.YNc(13,h,3,1,"a",12),a.YNc(14,y,2,0,"span",13),a.qZA(),a.TgZ(15,"td"),a.TgZ(16,"select",14),a.NdJ("change",function(t){const o=a.CHM(e).$implicit;return a.oxw(2).updateJobStatus(o.job_applicationID,t)}),a.TgZ(17,"option",15),a._uU(18,"Applied"),a.qZA(),a.TgZ(19,"option",16),a._uU(20,"Under Review"),a.qZA(),a.TgZ(21,"option",17),a._uU(22,"Accepted"),a.qZA(),a.TgZ(23,"option",18),a._uU(24,"Rejected"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(25,"td"),a.TgZ(26,"i",19),a.NdJ("click",function(){const t=a.CHM(e).$implicit;return a.oxw(2).deleteApplication(t.job_applicationID)}),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=t.$implicit,o=t.index,n=a.oxw(2);a.xp6(3),a.Oqu((n.currentPage-1)*n.limit+o+1),a.xp6(2),a.Oqu(e.jobtitle),a.xp6(2),a.Oqu(e.name),a.xp6(2),a.Oqu(e.email_id),a.xp6(2),a.Oqu(e.application_date),a.xp6(2),a.Q6J("ngIf",e.resume_path),a.xp6(1),a.Q6J("ngIf",!e.resume_path),a.xp6(2),a.Q6J("value",e.job_status)}}function _(e,t){if(1&e&&(a.TgZ(0,"table",10),a.TgZ(1,"thead"),a.TgZ(2,"tr"),a.TgZ(3,"th"),a._uU(4,"S.NO"),a.qZA(),a.TgZ(5,"th"),a._uU(6,"Job Title"),a.qZA(),a.TgZ(7,"th"),a._uU(8,"Applicant Name"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"Applicant Email"),a.qZA(),a.TgZ(11,"th"),a._uU(12,"Application Date"),a.qZA(),a.TgZ(13,"th"),a._uU(14,"Resume"),a.qZA(),a.TgZ(15,"th"),a._uU(16,"Status"),a.qZA(),a.TgZ(17,"th"),a._uU(18,"Action"),a.qZA(),a.qZA(),a.qZA(),a.YNc(19,A,27,8,"tbody",11),a.qZA()),2&e){const e=a.oxw();a.xp6(19),a.Q6J("ngForOf",e.userAppliedJobs)}}let q=(()=>{class e{constructor(e,t){this.jobsService=e,this.datePipe=t,this.userAppliedJobs=[],this.errorMessage="",this.totalApplicationsByCompany=0,this.totalPages=0,this.currentPage=1,this.limit=10}ngOnInit(){this.loadCurrentCompany()}loadCurrentCompany(){this.jobsService.getCurrentCompany().subscribe(e=>{this.company_id=e.company.company_id,this.company_id?this.getUserAppliedJobs():console.error("Company ID not found")},e=>{console.error("Error fetching current company:",e)})}getUserAppliedJobs(){this.jobsService.getApplicationsByCompany(this.company_id,this.limit,this.currentPage).subscribe(e=>{e.success?(this.totalApplicationsByCompany=e.totalapplicationsByCompany,this.totalPages=e.totalPages,this.currentPage=e.currentPage,this.userAppliedJobs=e.data.map(e=>(e.application_date&&(e.application_date=this.datePipe.transform(e.application_date,"yyyy-MM-dd")),e.resume_path&&(e.resume_path=`https://careerlink-jobportal-backend-production.up.railway.app/uploads/resumes/${e.resume_path}`),e))):(console.error("Failed to fetch user applied jobs"),this.errorMessage="Failed to load user applied jobs")},e=>{console.error("Error fetching user applied jobs:",e)})}changePage(e){e>0&&e<=this.totalPages&&(this.currentPage=e,this.getUserAppliedJobs())}updateJobStatus(e,t){const o=t.target.value;this.jobsService.updateJobApplicationStatus(e,o).subscribe(t=>{if(t.success){alert("job status updated successfully");const t=this.userAppliedJobs.find(t=>t.job_applicationID===e);t&&(t.job_status=o)}else console.error("Failed to update job status")},e=>{console.error("Error updating job status",e)})}deleteApplication(e){confirm("Are you sure you want to delete this application?")&&this.jobsService.deleteJobApplicationByCompany(e).subscribe(e=>{e.success?(alert("Job application deleted successfully!"),this.getUserAppliedJobs()):alert("Failed to delete application")},e=>{console.error("Error deleting application:",e),alert("Something went wrong")})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(c.e),a.Y36(n.uU))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-all-applications"]],features:[a._Bn([n.uU])],decls:15,vars:7,consts:[[1,"container","align-top"],[1,"fs-2","fw-bold","text-center"],["class","text-center mt-4",4,"ngIf"],[1,"container","mt-5","table-responsive"],["class","alert alert-danger",4,"ngIf"],["class","table table-bordered table-hover",4,"ngIf"],[1,"pagination","d-flex","justify-content-end"],[3,"disabled","click"],[1,"text-center","mt-4"],[1,"alert","alert-danger"],[1,"table","table-bordered","table-hover"],[4,"ngFor","ngForOf"],["target","_blank","download","",3,"href",4,"ngIf"],[4,"ngIf"],[3,"value","change"],["value","Pending","disabled",""],["value","Under Review"],["value","Accepted"],["value","Rejected"],[1,"fas","fa-trash-alt","text-danger",2,"cursor","pointer",3,"click"],["target","_blank","download","",3,"href"],[1,"bx","bxs-file-pdf","text-danger"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"section"),a.TgZ(2,"p",1),a._uU(3,"Applied Jobs"),a.qZA(),a.YNc(4,b,3,0,"div",2),a.TgZ(5,"div",3),a.YNc(6,f,2,1,"div",4),a.YNc(7,_,20,1,"table",5),a.TgZ(8,"div",6),a.TgZ(9,"button",7),a.NdJ("click",function(){return t.changePage(t.currentPage-1)}),a._uU(10,"Previous"),a.qZA(),a.TgZ(11,"span"),a._uU(12),a.qZA(),a.TgZ(13,"button",7),a.NdJ("click",function(){return t.changePage(t.currentPage+1)}),a._uU(14,"Next"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(4),a.Q6J("ngIf",0===t.userAppliedJobs.length),a.xp6(2),a.Q6J("ngIf",t.errorMessage),a.xp6(1),a.Q6J("ngIf",t.userAppliedJobs.length>0),a.xp6(2),a.Q6J("disabled",1===t.currentPage),a.xp6(3),a.AsE("Page ",t.currentPage," of ",t.totalPages,""),a.xp6(1),a.Q6J("disabled",t.currentPage===t.totalPages))},directives:[n.O5,n.sg,i.YN,i.Kr],styles:[".align-top[_ngcontent-%COMP%]{margin-top:70px}.pagination[_ngcontent-%COMP%]{margin-top:20px;display:flex;align-items:center;justify-content:flex-end}button[_ngcontent-%COMP%]{margin:5px;padding:8px 16px;background-color:#007bff;color:#fff;border:none;cursor:pointer;border-radius:4px}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]}),e})(),T=(()=>{class e{constructor(e,t){this.jobsService=e,this.router=t,this.isCompanyLoggedIn=!1}ngOnInit(){this.isCompanyLoggedIn=this.jobsService.isCompanyLoggedIn()}logout(){this.jobsService.logoutCompany().subscribe(e=>{this.jobsService.setCompanyLoggedIn(!1),this.jobsService.clearCompanyLoginState(),this.isCompanyLoggedIn=!1,this.router.navigate(["/home/login"])},e=>{console.error("Logout failed",e)})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(c.e),a.Y36(r.F0))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-company-header"]],decls:10,vars:0,consts:[[1,"navbar","navbar-expand-lg",2,"background-color","rgb(63, 63, 116)","position","fixed","width","100%"],[1,"container-fluid"],[1,"d-flex","justify-content-start","w-100"],[1,"navbar-brand"],["src","/assets/nav_icon.png","alt","Logo","width","50","height","44",1,"d-inline-block","align-text-top","mx-2"],[1,"fs-3","fw-bolder","text-white"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","my-2","my-lg-0","navbar-nav-scroll",2,"--bs-scroll-height","100px"]],template:function(e,t){1&e&&(a.TgZ(0,"header"),a.TgZ(1,"nav",0),a.TgZ(2,"div",1),a.TgZ(3,"div",2),a.TgZ(4,"a",3),a._UZ(5,"img",4),a.TgZ(6,"span",5),a._uU(7,"CareerLink"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(8,"div",6),a._UZ(9,"ul",7),a.qZA(),a.qZA(),a.qZA(),a.qZA())},styles:[".nav-link[_ngcontent-%COMP%]{font-size:18px;font-weight:bolder;margin:0 20px;padding:10px 15px}.nav-link[_ngcontent-%COMP%]:hover{border-radius:50px;background-color:green;color:#f5f5f5}.nav-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:active{background-color:#4747b3}.logout-style[_ngcontent-%COMP%]:hover{background-color:#d64b4b;border-radius:60px;color:#f5f5f5;padding:8px;cursor:pointer}"]}),e})();const v=function(){return["active"]},x=function(){return["dashboard"]},C=function(){return["applications"]},U=function(){return["post-job"]},j=function(){return["posted-jobs"]},k=function(e,t,o){return{"btn-warning":e,"btn-success":t,"btn-danger":o}};function P(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a._uU(10),a.qZA(),a.TgZ(11,"td"),a.TgZ(12,"button",6),a._uU(13),a.ALo(14,"titlecase"),a.qZA(),a.qZA(),a.TgZ(15,"td"),a.TgZ(16,"i",7),a.NdJ("click",function(){const t=a.CHM(e).$implicit;return a.oxw().deleteJob(t.jobposting_id)}),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=t.$implicit,o=t.index,n=a.oxw();a.xp6(2),a.Oqu((n.currentPage-1)*n.limit+o+1),a.xp6(2),a.Oqu(e.jobtitle),a.xp6(2),a.Oqu(e.salary),a.xp6(2),a.Oqu(e.expiredate),a.xp6(2),a.Oqu(e.email_id),a.xp6(2),a.Q6J("ngClass",a.kEZ(9,k,"pending"===e.jobposting_status,"approved"===e.jobposting_status,"rejected"===e.jobposting_status)),a.xp6(1),a.Oqu(a.lcZ(14,7,e.jobposting_status))}}const J=[{path:"companyDetails",component:(()=>{class e{constructor(e,t){this.jobsService=e,this.router=t,this.isCompanyLoggedIn=!1}ngOnInit(){this.isCompanyLoggedIn=this.jobsService.isCompanyLoggedIn()}logout(){this.jobsService.logoutCompany().subscribe(e=>{this.jobsService.setCompanyLoggedIn(!1),this.jobsService.clearCompanyLoginState(),this.isCompanyLoggedIn=!1,this.router.navigate(["/home/login"])},e=>{console.error("Logout failed",e)})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(c.e),a.Y36(r.F0))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-company-details"]],decls:38,vars:18,consts:[[1,"sidebar"],[1,"nav","flex-column"],[1,"nav-link",3,"routerLinkActive","routerLink"],[1,"icon"],[1,"bx","bxs-dashboard"],[1,"description"],[1,"bx","bx-spreadsheet"],[1,"bx","bx-send"],[1,"bx","bx-paper-plane"],[1,"nav-link",3,"routerLinkActive","click"],[1,"bx","bx-log-in-circle"],[1,"main-content"]],template:function(e,t){1&e&&(a.TgZ(0,"header"),a._UZ(1,"app-company-header"),a.qZA(),a.TgZ(2,"main"),a.TgZ(3,"div",0),a.TgZ(4,"nav",1),a.TgZ(5,"ul"),a.TgZ(6,"li"),a.TgZ(7,"a",2),a.TgZ(8,"span",3),a._UZ(9,"i",4),a.qZA(),a.TgZ(10,"span",5),a._uU(11,"Dashboard"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(12,"li"),a.TgZ(13,"a",2),a.TgZ(14,"span",3),a._UZ(15,"i",6),a.qZA(),a.TgZ(16,"span",5),a._uU(17,"All Applications"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(18,"li"),a.TgZ(19,"a",2),a.TgZ(20,"span",3),a._UZ(21,"i",7),a.qZA(),a.TgZ(22,"span",5),a._uU(23,"Post Job"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(24,"li"),a.TgZ(25,"a",2),a.TgZ(26,"span",3),a._UZ(27,"i",8),a.qZA(),a.TgZ(28,"span",5),a._uU(29,"Posted Job"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(30,"li"),a.TgZ(31,"a",9),a.NdJ("click",function(){return t.logout()}),a.TgZ(32,"span",3),a._UZ(33,"i",10),a.qZA(),a.TgZ(34,"span",5),a._uU(35,"Logout"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(36,"section",11),a._UZ(37,"router-outlet"),a.qZA(),a.qZA()),2&e&&(a.xp6(7),a.Q6J("routerLinkActive",a.DdM(9,v))("routerLink",a.DdM(10,x)),a.xp6(6),a.Q6J("routerLinkActive",a.DdM(11,v))("routerLink",a.DdM(12,C)),a.xp6(6),a.Q6J("routerLinkActive",a.DdM(13,v))("routerLink",a.DdM(14,U)),a.xp6(6),a.Q6J("routerLinkActive",a.DdM(15,v))("routerLink",a.DdM(16,j)),a.xp6(6),a.Q6J("routerLinkActive",a.DdM(17,v)))},directives:[T,r.yS,r.Od,r.lC],styles:["ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.sidebar[_ngcontent-%COMP%]{position:fixed;margin-top:50px;left:0;height:100%;width:200px;padding-top:20px;background-color:#3f3f74;transition:width .3s;z-index:1000}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:20px;gap:20px;padding:10px 20px;color:#f5f5f5}.sidebar[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px}.sidebar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#cece91;border-left:5px solid #fff}.sidebar[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]{background-color:#023565;padding-left:3%}.main-content[_ngcontent-%COMP%]{height:100%;margin-left:200px;padding:20px;transition:margin-left .3s}@media (max-width:480px){.sidebar[_ngcontent-%COMP%]{width:60px}.sidebar[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:none}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{justify-content:center}.main-content[_ngcontent-%COMP%]{margin-left:60px}}"]}),e})(),children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:g,canActivate:[d]},{path:"post-job",component:m,canActivate:[d]},{path:"applications",component:q,canActivate:[d]},{path:"posted-jobs",component:(()=>{class e{constructor(e,t){this.jobsService=e,this.datePipe=t,this.activePostedJobs=[],this.company_id=null,this.totalActiveJobs=0,this.totalPages=0,this.currentPage=1,this.limit=10}ngOnInit(){this.getLoggedInCompany()}getLoggedInCompany(){this.jobsService.getCurrentCompany().subscribe(e=>{e.company?(this.company_id=e.company.company_id,this.getActiveJobsByCompany()):console.log("No company ID found or invalid response:",e)},e=>{console.error("Error fetching company ID:",e)})}getActiveJobsByCompany(){null!==this.company_id&&this.jobsService.getActiveJobsByCompany(this.company_id,this.limit,this.currentPage).subscribe(e=>{e.success&&e.data?(this.activePostedJobs=e.data,this.totalActiveJobs=e.totalActiveJobs,this.totalPages=e.totalPages,this.currentPage=e.currentPage,this.activePostedJobs.forEach(e=>{e.expiredate=this.datePipe.transform(e.expiredate,"yyyy-MM-dd")}),console.log("Active posted jobs:",this.activePostedJobs)):console.log("No active jobs found or invalid response:",e)},e=>{console.error("Error fetching jobs:",e)})}changePage(e){e>0&&e<=this.totalPages&&(this.currentPage=e,this.getActiveJobsByCompany())}deleteJob(e){confirm("Are you sure you want to delete this job posting?")&&this.jobsService.deleteJobPostingByCompany(e).subscribe(e=>{e.success&&(alert("Job deleted successfully!"),this.getActiveJobsByCompany())},e=>{console.error("Delete Error:",e),alert("Error deleting job. Check console for details.")})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(c.e),a.Y36(n.uU))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-posted-jobs"]],features:[a._Bn([n.uU])],decls:29,vars:5,consts:[[1,"container","align-top"],[1,"fs-2","fw-bold","text-center","mb-4"],[1,"table","table-bordered","table-hover"],[4,"ngFor","ngForOf"],[1,"pagination","d-flex","justify-content-end"],[3,"disabled","click"],["type","button",1,"btn",3,"ngClass"],[1,"fas","fa-trash-alt","text-danger","rejected",2,"cursor","pointer",3,"click"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"p",1),a._uU(2,"Active Job Postings"),a.qZA(),a.TgZ(3,"table",2),a.TgZ(4,"thead"),a.TgZ(5,"tr"),a.TgZ(6,"th"),a._uU(7,"S.NO"),a.qZA(),a.TgZ(8,"th"),a._uU(9,"Job Title"),a.qZA(),a.TgZ(10,"th"),a._uU(11,"Salary"),a.qZA(),a.TgZ(12,"th"),a._uU(13,"Expire Date"),a.qZA(),a.TgZ(14,"th"),a._uU(15,"Company Email"),a.qZA(),a.TgZ(16,"th"),a._uU(17,"Status"),a.qZA(),a.TgZ(18,"th"),a._uU(19,"Action"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(20,"tbody"),a.YNc(21,P,17,13,"tr",3),a.qZA(),a.qZA(),a.TgZ(22,"div",4),a.TgZ(23,"button",5),a.NdJ("click",function(){return t.changePage(t.currentPage-1)}),a._uU(24,"Previous"),a.qZA(),a.TgZ(25,"span"),a._uU(26),a.qZA(),a.TgZ(27,"button",5),a.NdJ("click",function(){return t.changePage(t.currentPage+1)}),a._uU(28,"Next"),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(21),a.Q6J("ngForOf",t.activePostedJobs),a.xp6(2),a.Q6J("disabled",1===t.currentPage),a.xp6(3),a.AsE("Page ",t.currentPage," of ",t.totalPages,""),a.xp6(1),a.Q6J("disabled",t.currentPage===t.totalPages))},directives:[n.sg,n.mk],pipes:[n.rS],styles:[".align-top[_ngcontent-%COMP%]{margin-top:70px}.pagination[_ngcontent-%COMP%]{margin-top:20px;display:flex;align-items:center;justify-content:flex-end}button[_ngcontent-%COMP%]{margin:5px;padding:8px 16px;background-color:#007bff;color:#fff;border:none;cursor:pointer;border-radius:4px}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#000}"]}),e})(),canActivate:[d]}]}];let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[r.Bz.forChild(J)],r.Bz]}),e})(),I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[n.ez,w,i.UX,i.u5]]}),e})()}}]);